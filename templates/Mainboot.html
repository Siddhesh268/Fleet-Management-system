<!DOCTYPE html>
<html lang="en">

<head>

  <title>HOME</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <style>
    .bg {
      /* The image used */
      background-color: #F1F3FA;
      /* Full height */
      height: 100%;

      /* Center and scale the image nicely */
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }

    .navbar {
      margin-bottom: 50px;
      border-radius: 0;
    }

    .jumbotron {
      margin-bottom: 0;
    }

    footer {
      background-color: #f2f2f2;
      padding: 25px;
    }

    .autoModal.modal .modal-body {
      max-height: 100%;
    }
  </style>
</head>

<body class="bg">

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand " href="/"><b>MAX</b></a>

      </div>

      <div class="collapse navbar-collapse" id="myNavbar">

        <ul class="nav navbar-nav navbar-right">
          <div class="dropdown">
          
            <button data-toggle="modal" data-target="#addVehicleModal" class="btn navbar-btn btn-success ">Add
              Vehicle</button>
            <div class="modal fade" id="addVehicleModal" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalLongTitle" aria-hidden="true">
              <div class="modal-dialog " role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form method="POST" action="/add_vehicle/">
                      <div class="form-group">
                        <label for="veh_no"><b>Vehicle number</b></label>
                        <input type="text" class="form-control" name="veh_no" required>
                      </div>
                      <div class="form-group">
                        <label for="chassis_no"><b>Chassis Number</b></label>
                        <input type="text" class="form-control" name="chassis_no" required>
                      </div>
                      <div class="form-group">
                        <label for="vehicle_class"><b>Vehicle Class</b></label>
                        <input type="text" class="form-control" name="vehicle_class" required>
                      </div>
                      <div class="form-group">
                        <label for="vehicle_capacity"><b>Vehicle Capacity</b></label>
                        <input type="number" class="form-control" name="vehicle_capacity" required>
                      </div>
                      <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save changes</button>
                      </div>
                    </form>
                  </div>

                </div>
              </div>
            </div>

            <button data-toggle="modal" data-target="#addCustomerModal" class="btn navbar-btn btn-warning ">Add
              Customer</button>
            <div class="modal fade" id="addCustomerModal" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalLong1Title" aria-hidden="true">
              <div class="modal-dialog " role="dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action="/add_customer/" method="POST">
                      <div class="form-group">
                        <label for="Cus_name"><b>Customer Name</b></label>
                        <input type="text" class="form-control" name="Cus_name" required>
                      </div>
                      <div class="form-group">
                        <label for="Comp_name"><b>Company Name</b></label>
                        <input type="text" class="form-control" name="Comp_name" required>
                      </div>
                      <div class="form-group">
                        <label for="Cus_contact"><b>Contact No</b></label>
                        <input type="number" class="form-control" name="Cus_contact" required>
                      </div>
                      <div class="form-group">
                        <label for="Cus_address"><b>Customer Address</b></label>
                        <input type="text" class="form-control" name="Cus_address" required>
                      </div>
                      <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save changes</button>
                      </div>
                    </form>
                  </div>



                </div>
              </div>
            </div>
            <button data-toggle="modal" data-target="#addDriverModal" class="btn navbar-btn btn-info ">Add
              Driver</button>
            <div class="modal fade" id="addDriverModal" tabindex="-1" role="dialog"
              aria-labelledby="exampleModalLong1Title" aria-hidden="true">
              <div class="modal-dialog " role="dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form action="/add_driver/" method="POST">
                      <div class="form-group">
                        <label for="driver_name"><b>Driver Name</b></label>
                        <input type="text" class="form-control" name="driver_name" required>
                      </div>
                      <div class="form-group">
                        <label for="License_no"><b>License No.</b></label>
                        <input type="text" class="form-control" name="License_no" required>
                      </div>
                      <div class="form-group">
                        <label for="contact_no"><b>Contact No</b></label>
                        <input type="number" class="form-control" name="contact_no" required>
                      </div>
                      <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save changes</button>
                      </div>
                    </form>
                  </div>



                </div>
              </div>
            </div>
            <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Reports
                <span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><a href="/expenseReport/">Expenses</a></li>
                <li><a href="/ProfitLossReport/">Profit/loss</a></li>
                <li><a href="/MaintenanceReport/">Maintenance</a></li>
              </ul>
          </div>


        </ul>

      </div>
    </div>
    {%with messages=get_flashed_messages()%}
    {%if messages%}
    {%for message in messages%}
    {%if message==None%}
    <div class="alert alert-danger " role="alert">
      <strong>Failed</strong>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {%else%}
    <div class="alert alert-success " role="alert">
      <strong>{{message[0]}}</strong>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {%endif%}

    {%endfor%}
    {% endif %}
    {% endwith%}
  </nav>
  
  <div class="container">
      <a type="button" class="btn btn-danger" href="/logout/">logout</a>


    <form style="float: right" class="form-inline" action="/driver_on_vehicle/" method="POST">
      <div class="form-group">
        <select class="custom-select form-control" name="veh_no">
          <option selected>Choose vehicle</option>
          {%for i in vehicles%}
          <option value=p{{i[0]}}>{{i[0]}}</option>
          {%endfor%}
        </select> </div>
      <div class="form-group">
        <select class="custom-select form-control" name="driver_name">
          <option selected>Choose driver</option>
          {%for i in drivers%}
          <option value={{i[0]}}>{{i[1]}}</option>
          {%endfor%}
        </select> </div>

      <button type="submit" class="btn btn-secondary">Submit</button>
    </form>
  </div>
  <div class="container">
    <div class="alert alert-info" role="alert">
      <strong> Vehicles</strong>
    </div>
    <div class="row">

      {%for i in vehicles%}
      <div class="col-sm-3">
        <a href="/vehicle/{{i[0]}}">

          <div {%if i[1]=='1'%} class="panel panel-info" {%else%} class="panel panel-primary" {%endif%}>
            <div class="panel-heading">{{i[0]}}</div>
            <div class="panel-body">
              <img src="static/11.jpg" class="img-responsive" style="width:100%" alt="Image">
            </div>
            <div class="panel-footer">
              <p class="text-center">Driver : {{i[2]}}</p>
              {%if i[1]=='1'%}
              <p class="text-center">On Journey</p>

              {%else%}
              <p class="text-center">Off journey</p>

              {%endif%}

            </div>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
    <div class="alert alert-info" role="alert">
      <strong>Drivers</strong>
    </div>
    <div class="row">
      {%for i in drivers%}

      <div class="col-sm-2">
        <a href="/driver/{{i[0]}}">
          <div class="panel panel-primary">
            <div class="panel-heading">{{i[1]}}</div>
            <div class="panel-body">
              <img src="static/11.png" class="img-responsive" style="width:100%" alt="Image">


            </div>
            <div class="panel-footer">
              <p class="text-center">{{i[2]}}</p>
              <p class="text-center">{{i[3]}}</p>
            </div>


          </div>
        </a>
      </div>

      {% endfor %}
    </div>
    <div class="alert alert-info" role="alert">
      <strong> Customers</strong>
    </div>
    <div class="row">
      {%for i in customers%}

      <div class="col-sm-2">

        <div class="panel panel-primary">

          <div class="panel-heading">{{i[1]}}</div>
          <div class="panel-body">
            <p class="text-center">{{i[2]}}</p>
            <p class="text-center">{{i[3]}}</p>
            <p class="text-center">{{i[4]}}</p>

          </div>

        </div>

      </div>

      {% endfor %}
    </div>

  </div>



  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
    integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
    crossorigin="anonymous"></script>

</body>


</html>